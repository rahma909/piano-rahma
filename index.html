<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="stylesheet" href="styles.css">

    <link rel="stylesheet" href="css/style.css">
  
    <title>piano</title>
</head>
<body>
  <div class="piano">
      <div data-note="c" class="key white"></div>
      <div data-note="Db" class="key black"></div>
      <div data-note="D" class="key white"></div>
      <div data-note="Eb" class="key black"></div>
      <div data-note="E" class="key white"></div>
      <div data-note="F" class="key white"></div>
      <div data-note="Gb" class="key black"></div>
      <div data-note="G" class="key white"></div>
      <div data-note="Ab" class="key black"></div>
      <div data-note="A" class="key white"></div>
      <div data-note="Bb" class="key black"></div>
      <div data-note="B" class="key white"></div>
  </div>  
  <audio  id="c" src="notes/C.mp3"></audio>
  <audio  id="Db" src="notes/Db.mp3"></audio>
  <audio  id="D" src="notes/D.mp3"></audio>
  <audio  id="Eb" src="notes/Eb.mp3"></audio>
  <audio  id="E" src="notes/E.mp3"></audio>
  <audio  id="F" src="notes/F.mp3"></audio>
  <audio  id="Gb" src="notes/Gb.mp3"></audio>
  <audio  id="G" src="notes/G.mp3"></audio>
  <audio  id="Ab" src="notes/Ab.mp3"></audio>
  <audio  id="A" src="notes/A.mp3"></audio>
  <audio  id="Bb" src="notes/Bb.mp3"></audio>
  <audio  id="B" src="notes/B.mp3"></audio>
  <script>
  const WHITE_KEYS=['z','x','c','v','b','n','m'] 
  const BLACK_KEYS=['a','s','d','h','j'] 

  const keys=document.querySelectorAll('.key')
  const whitekeys=document.querySelectorAll('.key.white')
  const blackkeys=document.querySelectorAll('.key.black')

keys.forEach(key => {
    key.addEventListener('click',() => playNote(key))
})
 document.addEventListener('keydown',e =>{
   if(e.repeat) return
   const key =e.key
   const whitekeyIndex =WHITE_KEYS.indexOf(key)
   const blackkeyIndex =BLACK_KEYS.indexOf(key)
    
   if(whitekeyIndex >-1) playNote(whitekeys[whitekeyIndex])
   if(blackkeyIndex >-1) playNote(blackkeys[blackkeyIndex])
 })

function playNote(key){
    const noteAudio = document.getElementById(key.dataset.note)
    noteAudio.curentTime=0
    noteAudio.play()
    key.classList.add('active')
    noteAudio.addEventListener('ended',() =>{
    key.classList.remove('active')
    })
}
</script>

</body>
</html>